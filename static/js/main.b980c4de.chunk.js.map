{"version":3,"sources":["redux/types.ts","components/SearchForm/SearchForm.tsx","components/Header/Header.tsx","utils/config.ts","components/BookCard/BookCard.tsx","redux/actions.ts","components/Preloader/Preloader.tsx","components/Books/Books.tsx","components/FullBook/FullBook.tsx","components/BookPage/BookPage.tsx","components/App/App.tsx","reportWebVitals.js","redux/reducers/cardsReducer.ts","redux/reducers/searchReducer.ts","redux/reducers/fullbookReducer.ts","redux/reducers/rootReducer.ts","utils/Gapi.ts","redux/sagas.ts","redux/store.ts","index.tsx"],"names":["REQUEST_SEARCH","FETCH_BOOKS","FETCH_BOOKS_SUCCESS","FETCH_BOOKS_ERROR","ADD_BOOKS","ADD_MOREBOOKS","ADD_SEARCCONFIG","SEARCCONFIG_UPDATE","GET_FULLBOOK","WRITE_FULLBOOK","SearchForm","onSearch","form","useForm","mode","reset","register","handleSubmit","isValid","formState","useState","totalGetBooks","setTotalGetBooks","className","onSubmit","data","axios","get","search","then","res","totalItems","noValidate","placeholder","type","required","disabled","htmlFor","id","value","style","textAlign","color","fontSize","Header","DEFAULTIMAGE","BASE_URL","GAPI_KEY","BookCard","item","history","useHistory","dispatch","useDispatch","volumeInfo","categories","title","authors","thumbnail","imageLinks","React","isCategory","setIsCategory","isAuthor","setIsAuthor","useEffect","category","join","author","onClick","selfLink","push","src","alt","Preloader","Books","books","onClickMore","isLoading","isLoadMore","error","map","length","FullBook","description","imageSmall","small","imageLarge","large","BookPage","fullbook","App","isBooksArray","setIsBooksArray","useSelector","state","searchWord","sorting","index","startIndex","cards","fetchedCards","items","showFullBook","array","filter","includes","str","toUpperCase","slice","searchString","searchConfig","requestSearch","payload","addSearchConfig","exact","path","addMoreBooks","updateSearchConfig","to","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","rootReducer","combineReducers","action","Map","values","kind","concatArray","concat","newArray","arrayFullBook","fetchBooks","a","fetch","response","json","getFullBook","sagaWatcher","sagaWorkerGetBooks","sagaWorkerMoreBooks","sagaWorkerFullBook","takeEvery","put","call","Gapi","console","log","message","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","saga","createSagaMiddleware","store","createStore","applyMiddleware","run","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b980c4de.chunk.js","sourcesContent":["export const REQUEST_SEARCH = 'GET/REQUEST_SEARCH'; // saga\r\nexport const FETCH_BOOKS = 'GET/FETCH_BOOKS'; // reducer\r\nexport const FETCH_BOOKS_SUCCESS = 'GET/FETCH_BOOKS_SUCCESS'; // reducer\r\nexport const FETCH_BOOKS_ERROR = 'GET/FETCH_BOOKS_ERROR'; // reducer\r\nexport const ADD_BOOKS = 'PAGINATION_BOOKS/ADD_BOOKS'; // saga\r\nexport const ADD_MOREBOOKS = 'PAGINATION_BOOKS/ADD_MOREBOOKS'; // reducer\r\nexport const ADD_SEARCCONFIG = 'SEARCHING/ADD_SEARCCONFIG'; // reducer\r\nexport const SEARCCONFIG_UPDATE = 'SEARCHING/SEARCCONFIG_UPDATE'; // reducer\r\nexport const GET_FULLBOOK = 'FULLBOOK/GET_FULLBOOK'; // saga\r\nexport const WRITE_FULLBOOK = 'FULLBOOK/WRITE_FULLBOOK'; // reducer\r\n","import React, {FC, useState} from 'react';\r\nimport './SearchForm.css';\r\nimport { useForm } from 'react-hook-form';\r\nimport axios from \"axios\";\r\n\r\ninterface SearchFormProps {\r\n\tonSearch: (args: dataTypes) => void;\r\n}\r\n\r\ninterface dataTypes {\r\n\tsearch: string;\r\n\tsorting: string;\r\n\tcategory: string;\r\n}\r\n\r\nconst SearchForm: FC<SearchFormProps> = ({ onSearch }) => {\r\n\tconst form = useForm({ mode: 'onChange' });\r\n\tconst { reset, register, handleSubmit } = form;\r\n\tconst { isValid } = form.formState;\r\n\tconst [totalGetBooks,setTotalGetBooks]=useState<number|null>(null)\r\n\r\n\tconst onSubmit = (data: any): void =>  {\r\n\t\taxios.get(`https://www.googleapis.com/books/v1/volumes?q=intitle:${data.search}`).then(res=>{\r\n\t\t\tsetTotalGetBooks(res.data.totalItems)\r\n\t\t})\r\n\t\tonSearch(data);\r\n\t\treset();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form className='searchform' onSubmit={handleSubmit(onSubmit)} noValidate>\r\n\t\t\t<fieldset className='searchform__fieldset'>\r\n\t\t\t\t<input\r\n\tclassName='searchform__input'\r\n\tplaceholder='Enter Book name'\r\n\ttype='text'\r\n\t\t\t\t\t{...register('search', {required: true})}\r\n\t/>\r\n\r\n\t\t\t\t<button className='searchform__btn' type='submit' disabled={!isValid}>\r\n\t\t\t\t\tSearch\r\n\t\t\t\t</button>\r\n\t\t\t</fieldset>\r\n\t\t\t<fieldset className='searchform__fieldset searchform__fieldset_select-resize'>\r\n\t\t\t\t<label className='searchform__label-select' htmlFor='sorting'>\r\n\t\t\t\t\tSorting by:{' '}\r\n\t\t\t\t</label>\r\n\t\t\t\t<select\r\n\t\t\t\t\tclassName='searchform__select'\r\n\t\t\t\t\tid='sorting'\r\n\t\t\t\t\t{...register('sorting')}\r\n\t\t\t\t>\r\n\t\t\t\t\t<option value='relevance'>relevance</option>\r\n\t\t\t\t\t<option value='newest'>newest</option>\r\n\t\t\t\t</select>\r\n\t\t\t\t<label className='searchform__label-select' htmlFor='category'>\r\n\t\t\t\t\tCategory:{' '}\r\n\t\t\t\t</label>\r\n\t\t\t\t<select\r\n\t\t\t\t\tclassName='searchform__select'\r\n\t\t\t\t\tid='category'\r\n\t\t\t\t\t{...register('category')}\r\n\t\t\t\t>\r\n\t\t\t\t\t<option value=''>all</option>\r\n\t\t\t\t\t<option value='art'>art</option>\r\n\t\t\t\t\t<option value='biography'>biography</option>\r\n\t\t\t\t\t<option value='computers'>computers</option>\r\n\t\t\t\t\t<option value='history'>history</option>\r\n\t\t\t\t\t<option value='medical'>medical</option>\r\n\t\t\t\t\t<option value='poetry'>poetry</option>\r\n\t\t\t\t</select>\r\n\t\t\t</fieldset>\r\n\t\t\t{totalGetBooks && <div style={{textAlign:'center',color:'white',fontSize:\"20px\"}}>Total found Books:{totalGetBooks}</div>}\r\n\t\t</form>\r\n\r\n\t);\r\n};\r\n\r\nexport default SearchForm;\r\n","import React, { FC } from 'react';\r\nimport './Header.css';\r\nimport SearchForm from '../SearchForm/SearchForm';\r\n\r\ninterface HeaderFormProps {\r\n\tonSearch: (args: dataTypes) => void;\r\n}\r\n\r\ninterface dataTypes {\r\n\tsearch: string;\r\n\tsorting: string;\r\n\tcategory: string;\r\n}\r\n\r\nconst Header: FC<HeaderFormProps> = ({ onSearch }) => {\r\n\treturn (\r\n\t\t<header className='header'>\r\n\t\t\t<SearchForm onSearch={onSearch} />\r\n\t\t</header>\r\n\t);\r\n}\r\n\r\nexport default Header;\r\n","const DEFAULTIMAGE: string =\r\n\t'https://images.unsplash.com/photo-1599508704512-2f19efd1e35f?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=675&q=80';\r\nconst BASE_URL: string = 'https://www.googleapis.com/books/v1/volumes?q';\r\nconst GAPI_KEY: string = 'AIzaSyAiAERcpGEYcW42YWIGNBdar-rU8L6v5nI';\r\n\r\nexport { DEFAULTIMAGE, BASE_URL, GAPI_KEY };","import React, { FC } from 'react';\r\nimport './BookCard.css';\r\nimport { getFullBook } from '../../redux/actions';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport { DEFAULTIMAGE } from '../../utils/config';\r\n\r\ninterface BookCardProps {\r\n\titem: any;\r\n}\r\n\r\nconst BookCard: FC<BookCardProps> = ({ item }) => {\r\n\tconst history = useHistory();\r\n\tconst dispatch = useDispatch();\r\n\tconst { categories, title, authors } = item.volumeInfo;\r\n\r\n\tconst { thumbnail } = item.volumeInfo.imageLinks || DEFAULTIMAGE;\r\n\tconst [isCategory, setIsCategory] = React.useState<string>('');\r\n\tconst [isAuthor, setIsAuthor] = React.useState<string>('');\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif (categories) {\r\n\t\t\tconst category: string = categories.join(', ');\r\n\t\t\tsetIsCategory(category);\r\n\t\t}\r\n\t\tif (authors) {\r\n\t\t\tconst author: string = authors.join(', ');\r\n\t\t\tsetIsAuthor(author);\r\n\t\t}\r\n\t}, [categories, authors]);\r\n\r\n\tfunction handleClickBook(): void {\r\n\t\tdispatch(getFullBook(item.selfLink))\r\n\t\thistory.push('/book');\r\n\t}\r\n\r\n\treturn (\r\n\t\t<li className='bookscard' onClick={handleClickBook}>\r\n\t\t\t<img\r\n\t\t\t\tclassName='bookscard__img'\r\n\t\t\t\tsrc={\r\n\t\t\t\t\tthumbnail\r\n\t\t\t\t\t\t? thumbnail\r\n\t\t\t\t\t\t: DEFAULTIMAGE\r\n\t\t\t\t}\r\n\t\t\t\talt={title}\r\n\t\t\t></img>\r\n\t\t\t<div className='bookscard__footer'>\r\n\t\t\t\t{isCategory && (\r\n\t\t\t\t\t<p className='bookscard__text'>Категория: {isCategory}</p>\r\n\t\t\t\t)}\r\n\t\t\t\t<p className='bookscard__text'>Название: {title}</p>\r\n\t\t\t\t{isAuthor && <p className='bookscard__text'>Автор: {isAuthor}</p>}\r\n\t\t\t</div>\r\n\t\t</li>\r\n\t);\r\n};\r\n\r\nexport default BookCard;\r\n","import {\r\n\tREQUEST_SEARCH,\r\n\tADD_BOOKS,\r\n\tADD_SEARCCONFIG,\r\n\tSEARCCONFIG_UPDATE,\r\n\tGET_FULLBOOK,\r\n\tWRITE_FULLBOOK,\r\n} from './types';\r\n\r\nexport function requestSearch(searchConfig : any) {\r\n\treturn {\r\n\t\ttype: REQUEST_SEARCH,\r\n\t\tsearchConfig,\r\n\t};\r\n}\r\n\r\nexport function getFullBook(selfLink : any) {\r\n\treturn {\r\n\t\ttype: GET_FULLBOOK,\r\n\t\tselfLink,\r\n\t};\r\n}\r\n\r\nexport function writeFullBook(book : any) {\r\n\treturn {\r\n\t\ttype: WRITE_FULLBOOK,\r\n\t\tbook,\r\n\t};\r\n}\r\n\r\nexport function addSearchConfig(searchConfig : any) {\r\n\treturn {\r\n\t\ttype: ADD_SEARCCONFIG,\r\n\t\tpayload: searchConfig,\r\n\t};\r\n}\r\n\r\nexport function updateSearchConfig(searchConfig : any) {\r\n\treturn {\r\n\t\ttype: SEARCCONFIG_UPDATE,\r\n\t\tpayload: searchConfig,\r\n\t};\r\n}\r\n\r\nexport function addMoreBooks(searchConfig : any) {\r\n\treturn {\r\n\t\ttype: ADD_BOOKS,\r\n\t\tsearchConfig: searchConfig,\r\n\t};\r\n}\r\n","import React from 'react';\r\nimport './Preloader.css';\r\n\r\nconst Preloader = () => {\r\n  return (\r\n    <div className=\"preloader\">\r\n      <div className=\"preloader__container\">\r\n        <span className=\"preloader__round\"></span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Preloader;","import React, { FC } from 'react';\r\nimport './Books.css';\r\nimport BookCard from '../BookCard/BookCard';\r\nimport Preloader from '../Preloader/Preloader';\r\n\r\ninterface BooksProps {\r\n\tbooks: any[];\r\n\tonClickMore: () => void;\r\n\tisLoading: boolean;\r\n\tisLoadMore: boolean;\r\n\terror: boolean;\r\n}\r\n\r\nconst Books: FC<BooksProps> = ({ books, onClickMore, isLoading, isLoadMore, error }) => {\r\n\r\n\tfunction handleMoreBooks(): void {\r\n\t\tonClickMore();\r\n\t}\r\n\r\n\treturn (\r\n\t\t<section className='books'>\r\n\t\t\t{error ? <p className=\"books__error\">Произошла ошибка. Попробуйте еще раз или повторите поиск позже.</p> : ''}\r\n\t\t\t{isLoading\r\n\t\t\t\t? <Preloader />\r\n\t\t\t\t: <ul className='books-items'>\r\n\t\t\t\t\t{books && books.map((item: any) => <BookCard item={item} key={item.id} />)}\r\n\t\t\t\t</ul>}\r\n\r\n\t\t\t{isLoadMore && books.length && (\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype='button'\r\n\t\t\t\t\tclassName='books__btn'\r\n\t\t\t\t\tonClick={handleMoreBooks}\r\n\t\t\t\t\tdisabled={!isLoadMore}\r\n\t\t\t\t>\r\n\t\t\t\t\tmore\r\n\t\t\t\t</button>)}\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default Books;\r\n","import React, { FC } from 'react';\r\nimport './FullBook.css';\r\n\r\ninterface FullBookProps {\r\n\titem: any;\r\n}\r\n\r\nconst FullBook: FC<FullBookProps> = ({ item }) => {\r\n\r\n\tinterface itemTypes {\r\n\t\ttitle: string;\r\n\t\tauthors: any[];\r\n\t\tcategories: any[];\r\n\t\timageLinks: any;\r\n\t\tdescription: string;\r\n\t}\r\n\r\n\tconst { \r\n\t\ttitle, \r\n\t\tauthors, \r\n\t\tcategories, \r\n\t\timageLinks, \r\n\t\tdescription \r\n\t}: itemTypes = item.volumeInfo;\r\n\r\n\tconst [isCategory, setIsCategory] = React.useState<string>('');\r\n\tconst [isAuthor, setIsAuthor] = React.useState<string>('');\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif (categories) {\r\n\t\t\tconst category: string = categories.join(' / ');\r\n\t\t\tsetIsCategory(category);\r\n\t\t}\r\n\t\tif (authors) {\r\n\t\t\tconst author: string = authors.join(', ');\r\n\t\t\tsetIsAuthor(author);\r\n\t\t}\r\n\t}, [categories, authors]);\r\n\r\n\tconst imageSmall: string = imageLinks.small;\r\n\tconst imageLarge: string = imageLinks.large;\r\n\r\n\treturn (\r\n\t\t<li className='fullbook'>\r\n\t\t\t<div className='fullbook__container-img'>\r\n\t\t\t\t<img\r\n\t\t\t\t\tclassName='fullbook__img'\r\n\t\t\t\t\tsrc={imageSmall ? imageSmall : imageLarge}\r\n\t\t\t\t\talt={title}\r\n\t\t\t\t></img>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className='fullbook__container'>\r\n\t\t\t\t{isCategory && <p className='fullbook__category'>{isCategory}</p>}\r\n\t\t\t\t<h3 className='fullbook__title'>{title}</h3>\r\n\t\t\t\t{isAuthor && <p className='fullbook__author'>{isAuthor}</p>}\r\n\t\t\t\t<p className='fullbook__description'>{description}</p>\r\n\t\t\t</div>\r\n\t\t</li>\r\n\t);\r\n};\r\n\r\nexport default FullBook;\r\n","import React, { FC } from 'react';\r\nimport './BookPage.css';\r\nimport FullBook from '../FullBook/FullBook';\r\n\r\ninterface BookPageProps {\r\n\tfullbook: []\r\n}\r\n\r\nconst BookPage: FC<BookPageProps> = ({ fullbook }) => {\r\n\treturn (\r\n\t\t<section className=\"bookpage\">\r\n\t\t\t<ul className='bookpage__list'>\r\n\t\t\t\t{fullbook && fullbook.map((item: any) =>\r\n\t\t\t\t\t<FullBook item={item} key={item.id} />\r\n\t\t\t\t)}\r\n\t\t\t</ul>\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default BookPage;\r\n","import React from 'react';\r\nimport './App.css';\r\n\r\n/* REDUX */\r\nimport {\r\n\trequestSearch,\r\n\taddMoreBooks,\r\n\taddSearchConfig,\r\n\tupdateSearchConfig,\r\n} from '../../redux/actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n/* КОМПОНЕНТЫ */\r\nimport Header from '../Header/Header';\r\nimport Books from '../Books/Books';\r\nimport BookPage from '../BookPage/BookPage';\r\n\r\n/* ROUTES */\r\nimport { Route, Switch, useHistory, Redirect } from 'react-router-dom';\r\n\r\nfunction App() {\r\n\tconst dispatch = useDispatch();\r\n\tconst history = useHistory();\r\n\tconst [isBooksArray, setIsBooksArray] = React.useState<any[]>([]);\r\n\r\n\tinterface RootState {\r\n\t\tsearch: any;\r\n\t\tcards: any;\r\n\t\tfullbook: any;\r\n\t}\r\n\r\n\tconst { searchWord, sorting, category } = useSelector(\r\n\t\t(state: RootState) => state.search);\r\n\r\n\tconst index = useSelector((state: RootState) => state.search.startIndex);\r\n\r\n\tconst books = useSelector((state: RootState) => state.cards.fetchedCards.items);\r\n\r\n\r\n\tconst { isLoading, isLoadMore, error } = useSelector((state: RootState) => state.cards);\r\n\r\n\tconst { fullbook, showFullBook } = useSelector((state: RootState) => state.fullbook);\r\n\r\n\t/* Кнопка MORE добавляет больше книг */\r\n\tfunction handleClickMoreBooks(): void {\r\n\r\n\r\n\t\tif (books.length) {\r\n\t\t\tconst startIndex: number = index + 30;\r\n\r\n\t\t\tinterface searchConfigTypes {\r\n\t\t\t\tsearch: string;\r\n\t\t\t\tstartIndex: number;\r\n\t\t\t\tsorting: string;\r\n\t\t\t\tcategory: string;\r\n\t\t\t}\r\n\r\n\t\t\tconst searchConfig: searchConfigTypes = {\r\n\t\t\t\tsearch: searchWord,\r\n\t\t\t\tstartIndex: startIndex,\r\n\t\t\t\tsorting: sorting,\r\n\t\t\t\tcategory: category,\r\n\t\t\t};\r\n\t\t\tdispatch(addMoreBooks(searchConfig));\r\n\t\t\tdispatch(updateSearchConfig(searchConfig));\r\n\t\t}\r\n\t}\r\n\r\n\t/* Поиск книг */\r\n\tinterface dataTypes {\r\n\t\tsearch: string;\r\n\t\tsorting: string;\r\n\t\tcategory: string;\r\n\t}\r\n\r\n\tfunction handleSearchSubmit(searchString: dataTypes) {\r\n\t\tconst searchWord: string = searchString.search;\r\n\t\tconst sorting: string = searchString.sorting;\r\n\t\tconst category: string = searchString.category;\r\n\t\tconst startIndex: number = 0;\r\n\r\n\t\tinterface searchConfigTypes {\r\n\t\t\tsearchWord: string;\r\n\t\t\tstartIndex: number;\r\n\t\t\tsorting: string;\r\n\t\t\tcategory: string;\r\n\t\t}\r\n\t\tconst searchConfig: searchConfigTypes = { searchWord, startIndex, sorting, category };\r\n\r\n\t\tdispatch(requestSearch(searchConfig));\r\n\t\tdispatch(addSearchConfig(searchConfig));\r\n\t\tsetIsBooksArray([]);\r\n\t\thistory.push('/');\r\n\t}\r\n\r\n\t/* Вывод только конкретной категории или всех сразу */\r\n\tReact.useEffect(() => {\r\n\t\tif (books) {\r\n\t\t\tconst itemExist: Array<any[]> = books.filter((item: any) => {\r\n\t\t\t\tif (item.volumeInfo.categories && category) {\r\n\t\t\t\t\treturn typeof item === 'object';\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t});\r\n\r\n\t\t\tconst array: Array<any[]> = itemExist.filter((item: any) => {\r\n\t\t\t\tfunction upFirst(str: any) {\r\n\t\t\t\t\tif (!str) return str;\r\n\r\n\t\t\t\t\treturn str[0].toUpperCase() + str.slice(1);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn item.volumeInfo.categories.includes(upFirst(category));\r\n\t\t\t});\r\n\r\n\t\t\tif (category !== '') {\r\n\t\t\t\tsetIsBooksArray(array);\r\n\t\t\t} else setIsBooksArray(books);\r\n\t\t}\r\n\t}, [books, category]);\r\n\r\n\treturn (\r\n\t\t<div className='page'>\r\n\t\t\t<div className='page__container'>\r\n\t\t\t\t<Header onSearch={handleSearchSubmit} />\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route exact path='/'>\r\n\t\t\t\t\t\t<Books\r\n\t\t\t\t\t\t\tbooks={isBooksArray}\r\n\t\t\t\t\t\t\tonClickMore={handleClickMoreBooks}\r\n\t\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\t\tisLoadMore={isLoadMore}\r\n\t\t\t\t\t\t\terror={error}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route exact path='/book'>\r\n\t\t\t\t\t\t<BookPage fullbook={fullbook} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t</Switch>\r\n\t\t\t\t<Route path='/'>\r\n\t\t\t\t\t{!showFullBook ? <Redirect to='/' /> : <Redirect to='/book' />}\r\n\t\t\t\t</Route>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { FETCH_BOOKS, FETCH_BOOKS_SUCCESS, FETCH_BOOKS_ERROR, ADD_MOREBOOKS } from '../types';\r\n\r\ninterface CardState {\r\n\tfetchedCards: any;\r\n\tisLoadMore: boolean;\r\n\tisLoading: boolean,\r\n\terror: boolean\r\n}\r\n\r\ninterface CardsAction {\r\n\ttype: string;\r\n\tpayload?: any;\r\n}\r\n\r\nconst initialState: CardState = {\r\n\tfetchedCards: [],\r\n\tisLoadMore: true,\r\n\tisLoading: false,\r\n\terror: false\r\n};\r\n\r\nexport const cardsReducer = (state = initialState, action: CardsAction): CardState => {\r\n\tswitch (action.type) {\r\n\t\tcase FETCH_BOOKS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfetchedCards: [],\r\n\t\t\t\tisLoadMore: true,\r\n\t\t\t\tisLoading: true,\r\n\t\t\t\terror: false\r\n\t\t\t};\r\n\t\tcase FETCH_BOOKS_SUCCESS:\r\n\t\t\tif (action.payload.items.length < 10) {\r\n\t\t\t\tstate.isLoadMore = false;\r\n\t\t\t}\r\n\r\n\t\t\tconst array = [\r\n\t\t\t\t...new Map(action.payload.items.map((item: any) => [item.id, item])).values(),\r\n\t\t\t];\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfetchedCards: {\r\n\t\t\t\t\titems: array,\r\n\t\t\t\t\tkind: action.payload.kind,\r\n\t\t\t\t\ttotalItems: action.payload.totalItems,\r\n\t\t\t\t},\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\terror: false\r\n\t\t\t};\r\n\r\n\r\n\t\tcase FETCH_BOOKS_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfetchedCards: [],\r\n\t\t\t\tisLoadMore: true,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\terror: true\r\n\t\t\t};\r\n\r\n\t\tcase ADD_MOREBOOKS:\r\n\t\t\tif (action.payload.items.length < 10) {\r\n\t\t\t\tstate.isLoadMore = false;\r\n\t\t\t}\r\n\r\n\t\t\tconst concatArray = state.fetchedCards.items.concat(action.payload.items);\r\n\t\t\tconst newArray = [\r\n\t\t\t\t...new Map(concatArray.map((item: any) => [item.id, item])).values(),\r\n\t\t\t];\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfetchedCards: {\r\n\t\t\t\t\titems: newArray,\r\n\t\t\t\t\tkind: action.payload.kind,\r\n\t\t\t\t\ttotalItems: action.payload.totalItems,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import { ADD_SEARCCONFIG, SEARCCONFIG_UPDATE } from '../types';\r\n\r\ninterface SearchState {\r\n\tsearchWord: string,\r\n\tstartIndex: number,\r\n\tsorting: string,\r\n\tcategory: string,\r\n}\r\n\r\ninterface SearchAction {\r\n\ttype: string;\r\n\tpayload?: any;\r\n}\r\n\r\n\r\nconst initialState = {\r\n\tsearchWord: '',\r\n\tstartIndex: 0,\r\n\tsorting: '',\r\n\tcategory: '',\r\n};\r\n\r\nexport const searchReducer = (state = initialState, action: SearchAction): SearchState => {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_SEARCCONFIG:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsearchWord: action.payload.searchWord,\r\n\t\t\t\tstartIndex: action.payload.startIndex,\r\n\t\t\t\tsorting: action.payload.sorting,\r\n\t\t\t\tcategory: action.payload.category,\r\n\t\t\t};\r\n\t\tcase SEARCCONFIG_UPDATE:\r\n\t\t\tdebugger\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsearchWord: action.payload.search,\r\n\t\t\t\tstartIndex: (state.startIndex += 30),\r\n\t\t\t\tsorting: action.payload.sorting,\r\n\t\t\t\tcategory: action.payload.category,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import { WRITE_FULLBOOK } from '../types';\r\n\r\ninterface BookState {\r\n\tfullbook: any;\r\n\tshowFullBook: boolean;\r\n}\r\n\r\ninterface BookAction {\r\n\ttype: string;\r\n\tpayload?: any;\r\n}\r\n\r\n\r\n\r\nconst initialState = {\r\n\tfullbook: [],\r\n\tshowFullBook: false,\r\n};\r\n\r\nexport const fullbookReducer = (state = initialState, action: BookAction): BookState => {\r\n\tswitch (action.type) {\r\n\t\tcase WRITE_FULLBOOK:\r\n\t\t\tconst arrayFullBook = [];\r\n\t\t\tarrayFullBook.push(action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfullbook: arrayFullBook,\r\n\t\t\t\tshowFullBook: true,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport { cardsReducer } from './cardsReducer';\r\nimport { searchReducer } from './searchReducer';\r\nimport { fullbookReducer } from './fullbookReducer';\r\n\r\nexport const rootReducer = combineReducers({\r\n\tcards: cardsReducer,\r\n\tsearch: searchReducer,\r\n\tfullbook: fullbookReducer,\r\n});\r\n","import { BASE_URL, GAPI_KEY } from '../utils/config';\r\nexport async function fetchBooks(searchConfig: any) {\r\n    const {\r\n        searchWord = searchConfig.searchConfig.search,\r\n        startIndex,\r\n        sorting,\r\n        category,\r\n    } = searchConfig.searchConfig;\r\n\r\n    const response = await fetch(`${BASE_URL}=${searchWord}&subject:${category}&orderBy=${sorting}&startIndex=${startIndex}&maxResults=${30}&key=${GAPI_KEY}`);\r\n    return await response.json();\r\n}\r\n\r\nexport async function getFullBook(data: any) {\r\n    const { selfLink } = data;\r\n\r\n    const response = await fetch(selfLink);\r\n    return await response.json();\r\n}","import { call, put, takeEvery } from '@redux-saga/core/effects';\r\nimport * as Gapi from '../utils/Gapi';\r\nimport {\r\n\tREQUEST_SEARCH,\r\n\tFETCH_BOOKS,\r\n\tFETCH_BOOKS_SUCCESS,\r\n\tFETCH_BOOKS_ERROR,\r\n\tADD_BOOKS,\r\n\tADD_MOREBOOKS,\r\n\tGET_FULLBOOK,\r\n\tWRITE_FULLBOOK,\r\n\r\n} from './types';\r\n\r\nexport function* sagaWatcher() {\r\n\r\n\tyield takeEvery(REQUEST_SEARCH, sagaWorkerGetBooks);\r\n\tyield takeEvery(ADD_BOOKS, sagaWorkerMoreBooks);\r\n\tyield takeEvery(GET_FULLBOOK, sagaWorkerFullBook);\r\n}\r\n\r\nfunction* sagaWorkerGetBooks(searchConfig: any): any {\r\n\r\n\tyield put({ type: FETCH_BOOKS });\r\n\tconst payload = yield call(Gapi.fetchBooks, searchConfig)\r\n\tif (!payload.error) {\r\n\t\tyield put({ type: FETCH_BOOKS_SUCCESS, payload })\r\n\t} else { yield put({ type: FETCH_BOOKS_ERROR, payload }) }\r\n\r\n}\r\n\r\nfunction* sagaWorkerMoreBooks(searchConfig: any): any {\r\n\ttry {\r\n\r\n\t\tconst payload = yield call(Gapi.fetchBooks, searchConfig);\r\n\t\tyield put({ type: ADD_MOREBOOKS, payload });\r\n\r\n\t} catch (err: any) {\r\n\t\tconsole.log({ message: err.message });\r\n\t}\r\n}\r\n\r\nfunction* sagaWorkerFullBook(selfLink: any): any {\r\n\ttry {\r\n\t\tconst payload = yield call(Gapi.getFullBook, selfLink);\r\n\t\tyield put({ type: WRITE_FULLBOOK, payload });\r\n\t} catch (err: any) {\r\n\t\tconsole.log({ message: err.message });\r\n\t}\r\n}\r\n\r\n\r\n\r\n","import { applyMiddleware, compose, createStore } from 'redux';\r\nimport createSagaMiddleware from '@redux-saga/core';\r\nimport { rootReducer } from './reducers/rootReducer';\r\nimport { sagaWatcher } from './sagas';\r\n\r\ndeclare global {\r\n  interface Window {\r\n    __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\r\n  }\r\n}\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst saga = createSagaMiddleware();\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  compose(\r\n    applyMiddleware(saga), composeEnhancers()\r\n  )\r\n);\r\n\r\nsaga.run(sagaWatcher);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Provider } from 'react-redux';\r\nimport { store } from './redux/store';\r\nimport { HashRouter/* , BrowserRouter  */} from 'react-router-dom' // HashRouter для gh-pages\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<HashRouter>\r\n\t\t\t<Provider store={store}>\r\n\t\t\t\t<App />\r\n\t\t\t</Provider>\r\n\t\t</HashRouter>\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}